DROP TABLE IF EXISTS stats;

CREATE TABLE stats (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    app VARCHAR(32) NOT NULL,
    uri VARCHAR(128) NOT NULL,
    ip VARCHAR(45) NOT NULL,
    timestamp TIMESTAMP WITHOUT TIME ZONE NOT NULL
);

CREATE INDEX idx_stats_timestamp ON stats(timestamp);
CREATE INDEX idx_stats_uri ON stats(uri);